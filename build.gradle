/*
 * This build file was generated by the Gradle 'init' task.
 *
 * This generated file contains a commented-out sample Java project to get you started.
 * For more details take a look at the Java Quickstart chapter in the Gradle
 * user guide available at https://docs.gradle.org/3.5/userguide/tutorial_java_projects.html
 */


allprojects {
    group = 'com.coloseo.baggio'
    version = '0.1'
}

buildscript {
    repositories {
        mavenLocal()
        maven {
            credentials {
                username nexusUsername
                password nexusPassword
            }
            url "https://nexus.coloseo.io/repository/maven-public/"
        }
        jcenter()
        mavenCentral()
    }
    dependencies {
        classpath 'com.google.protobuf:protobuf-gradle-plugin:0.8.3'
        classpath 'com.github.jengelman.gradle.plugins:shadow:2.0.1'
    }
}

subprojects {
    apply plugin: 'java'
    apply plugin: 'maven'

    repositories {
        // Use 'jcenter' for resolving your dependencies.
        // You can declare any Maven/Ivy/file repository here.
        mavenLocal()
        maven {
            credentials {
                username nexusUsername
                password nexusPassword
            }
            url "https://nexus.coloseo.io/repository/maven-public/"
        }
        jcenter()
    }

    uploadArchives {
        repositories {
            mavenDeployer {
                repository(url: "${nexusUrl}/repository/maven-releases/") {
                    authentication(userName: nexusUsername, password: nexusPassword)
                }
                snapshotRepository(url: "${nexusUrl}/repository/maven-snapshots/") {
                    authentication(userName: nexusUsername, password: nexusPassword)
                }
            }
        } 
    }

}
